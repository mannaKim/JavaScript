<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>06_Function02.html</title>
    <style type="text/css"></style>
    <script type="text/javascript">
        // 1. 함수의 전달인수-매개변수
        function add(a,b){
            c=a+b;
            return c;
        }
        //자바스크립트 함수의 전달인수와 매개변수는 자바와 비슷하지만, 매개변수의 자료형을 표시하지 않고 변수의 이름만 명시하고 사용한다. 리턴값의 사용은 자바와 동일
        var result = add(10,20);
        document.write("10+20="+c+"<br/>"); 

        // 2. 매개변수의 사용
        // 생성되어 있는 매개변수보다 전달인수의 개수가 많으면 해당 전달인수는 무시
        function f(x){
            return x*x;
        }
        result = f(5,3); //3은 무시됨
        document.write("5*5="+result+"<br/>");

        // 3. 함수의 오버로딩 사용 예
        // 배열을 만들어주는 Array()함수의 다양한 사용(오버로딩)
        // - Array()함수는 기본적으로 매개변수에 아무것도 입력하지 않게 정의됨.
        var array1 = Array();  //빈배열 생성
        var array2 = Array(10) //매개변수만큼 크기를 가지는 배열 생성
        var array3 = Array(25, 35, 45, 55); //매개변수를 포함한 하나의 배열 생성
        document.write(array1+"<br/>"+array2+"<br/>"+array3+"<br/>"); 

        // 4. arguments 변수 사용 예 - 매개변수 부분을 비워둔다!
        function sumAll(){
            document.write("<h3>" + typeof(arguments) + ' : ' + arguments.length +"</h3>");
            var s='';
            var sum=0;
            for(var i in arguments){
                s=s+arguments[i]+' ';
                sum+=arguments[i];
            }
            document.write("<h3>arguments : " + s + "</h3>"); 
            document.write("<h3>sum : " + sum + "</h3>");
        }
        document.write( "<br/>"); 
        sumAll(1,2,3,4,5);
        document.write( "<br/>");
        sumAll(1,2,3,4,5,6,7,8,9); 

        //입력 매개변수를 모두 더해 리턴하는 함수
        function addAll(){
            var sum=0;
            for(var i in arguments){
                sum+=arguments[i];
            }
            return sum;
        }
        document.write( "<br/>"); 
        result = addAll(1,2,3,4,5,6,7,8,9,10);
        document.write("<h3>배열의 합계 : " + result + "</h3>"); 

        //addAll('minus', 2,3,4,5,6,7);
        //다른 자료와 같이 전달인수로 전달될 경우, 함수내에서 구분사용이 되어야 정상실행됨

        // 5. 리턴값이 익명함수인 경우
        function returnFunc(){
            //var f = function(){document.write("<h1>리턴된 함수의 출력</h1>");};
            //return f;
            return function(){document.write("<h1>리턴된 함수의 출력</h1>");};
        }
        var value = returnFunc(); //함수의 리턴값(익명함수)를 변수에 저장
        value(); //리턴받은 익명함수 호출
        returnFunc()(); //함수호출에 의해 리턴된 익명함수를 변수에 저장하지 않고 ()만 붙여도 호출 실행 된다.

        // 6. 익명함수를 함수의 전달인수로 전달하는 경우
        function varFunction(varFunc){
            for(var i=0; i<5; i++) varFunc();
        } //매개변수에 괄호를 붙여서 호출 --> 전달인수가 함수
        var func = function(){document.write("<h3>익명함수</h3>");}
        varFunction(func); //== varFunction(function(){document.write("<h3>익명함수</h3>");});

        // 7. 선언적 함수를 매개변수로 전달
        function justFunction(){
            document.write("<h3>선언적 함수</h3>");
        }
        varFunction(justFunction); 

        // 8. 지역변수의 유효 범위
        function test(name){
            var output="Hello "+name+"!";
            return output;
        }
        //위 함수 내의 output 변수는 지역변수이므로, 함수를 벗어나면 없는 변수가 된다.
        //document.write("<h3>"+output+"</h3>"); //<-- 출력되지 않음(output is not defined)

        //지역변수는 자신을 감싸고있는 중괄호를 벗어나는 순간 소멸된다.
        //지역변수가 소멸되기 전에 그 값을 리턴으로 전달받아 사용해야함
        var testname = test('홍길동');
        document.write("<h3>"+testname+"</h3>");

        // 함수 내 지역변수를 외부에서 활용하는 방법
        // 9. 클로져(Closure) : 지역변수의 값을 살리고 활용하기 위해 리턴되는 함수의 리턴값으로 지정
        function test2(name){
            var output="Hello " + name + "!";
            return function(){return output;}; //지역변수를 담은 익명함수가 리턴됨
        }
        var func1 = test2('이순신');
        var s = func1(); //리턴받은 함수를 호출해서 리턴받은 값(test2함수의 output)을 s에 저장

        document.write("<h3>"+s+"</h3>");
        document.write("<h3>"+func1()+"</h3>");
        document.write("<h3>"+test2('이순신')()+"</h3>");
    </script>
</head>
<body>
    
</body>
</html>